@model NotesViewModel
@inject Microsoft.AspNetCore.Identity.UserManager<Microsoft.AspNetCore.Identity.IdentityUser> UserManager

<h1></h1> <br>

<div class="row row-cols-1 row-cols-md-3 g-4">
    @foreach (var note in Model.Notes)
    {
        <div class="col">
            <div class="card h-100 d-flex flex-column" style="background-color: #e6f7ff; border: 1px solid #007bff; font-family: 'Caveat', cursive; padding: 15px; min-height: 300px;">

                
                <div class="card-body position-relative" style="background-image: linear-gradient(to bottom, #d9f2ff 12%, #e6f7ff 12%, #e6f7ff 16%); background-size: 100% 24px;">
                    <a asp-controller="Note" asp-action="Details" asp-route-id="@note.Id" class="stretched-link text-decoration-none"></a>
                    <p class="card-text" style="font-size: 1.2em; margin-top: 10px;">@note.Content</p>
                </div>

                <div class="card-footer mt-auto" style="background-color: #d9f2ff; border-top: 1px solid #007bff;">
                    <small class="text-muted">Uploaded by: @note.UploadedBy?.Split('@')[0]</small>
                    @if (note.UploadedById == UserManager.GetUserId(User))
                    {
                        <div class="d-flex justify-content-end mt-2">
                            <a class="btn btn-primary btn-sm me-2" asp-controller="Note" asp-action="Update" asp-route-id="@note.Id">Update</a>
                            <a class="btn btn-danger btn-sm" asp-controller="Note" asp-action="Delete" asp-route-id="@note.Id">Delete</a>
                        </div>
                    }
                </div>
            </div>
        </div>
    }
</div>

<!--Google Fonts-->
<link href="https://fonts.googleapis.com/css2?family=Caveat&display=swap" rel="stylesheet">
